(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{12:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),i=a(3),c=a.n(i),o=a(4),r=a(5),l=a(7),h=a(6),m=(a(12),a(0)),d={email:"crackeraki@gmail.com",password:"crackeraki@gmail.com",name:"Den",bio:"denbio",phone:"denphone",avatar:"avatar",id:Math.random()},j={email:"user",password:"user",name:"user",bio:"bio",phone:"userphone",avatar:"avatar",id:Math.random()};localStorage.setItem("crackeraki@gmail.com",JSON.stringify(d)),localStorage.setItem("user",JSON.stringify(j));var u=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={render:"login",registerStatus:"Welcome!",key:"",email:"",password:"",name:"",bio:"",phone:"",avatar:""},e.accounts=[],e.target=void 0,e.email="",e.password="",e.nameSetting="",e.bioSetting="",e.phoneSetting="",e.avatarSetting="",e.handleEmailChange=function(t){e.setState({email:t.target.value}),e.email=t.target.value},e.handlePasswordChange=function(t){e.setState({password:t.target.value}),e.password=t.target.value},e.imgToDataURL=function(e){return new Promise((function(t){var a=document.createElement("canvas").getContext("2d"),s=new Image;s.onload=function(){console.log(a),a.drawImage(s,s.width,s.height),t(a.imgToDataURL(e.type),"the image is drawn")},s.src=URL.createObjectURL(e)}))},e.handleSubmit=function(t){t.preventDefault();for(var a=0,s=Object.keys(localStorage);a<s.length;a++){var n=s[a];e.accounts.push(JSON.parse(localStorage.getItem(n)))}var i={};if("crackeraki@gmail.com"===e.email&&"crackeraki@gmail.com"===e.password)e.setState({render:"admin",registerStatus:"Admin page",key:"crackeraki@gmail.com",name:JSON.parse(localStorage.getItem("crackeraki@gmail.com")).name,bio:JSON.parse(localStorage.getItem("crackeraki@gmail.com")).bio,phone:JSON.parse(localStorage.getItem("crackeraki@gmail.com")).phone});else if(e.accounts.find((function(t){return i=t,t.email===e.email&&t.password===e.password})))e.setState({email:i.email,password:i.password,name:i.name,bio:i.bio,phone:i.phone,key:e.email}),e.setState({registerStatus:"Welcome!",render:"account"});else{e.setState({key:e.email,email:e.email,password:e.password,name:"undef",bio:"undef",phone:"undef",registerStatus:"You are registered now!",render:"new account"});var c={email:e.state.email,password:e.state.password,name:e.state.name,bio:e.state.bio,phone:e.state.phone,avatar:e.state.avatar,id:Math.random()};localStorage.setItem(e.email,c),console.log("new user")}},e.handleImgUpload=function(t){console.log(e.imgToDataURL(t.target.files[0]))},e.handleNameSetting=function(t){e.nameSetting=t.target.value,e.target=t.target},e.submitName=function(t){t.preventDefault(),localStorage.removeItem(e.state.key),localStorage.setItem(e.state.key,JSON.stringify({name:e.nameSetting,bio:e.state.bio,phone:e.state.phone,avatar:"undef"})),e.setState({name:JSON.parse(localStorage.getItem(e.state.key)).name}),e.accounts=[];for(var a=0,s=Object.keys(localStorage);a<s.length;a++){var n=s[a];e.accounts.push(JSON.parse(localStorage.getItem(n)))}e.target.value="",e.nameSetting=""},e.handleBioSetting=function(t){e.bioSetting=t.target.value,e.target=t.target},e.submitBio=function(t){t.preventDefault(),localStorage.removeItem(e.state.key),localStorage.setItem(e.state.key,JSON.stringify({name:e.state.name,bio:e.bioSetting,phone:e.state.phone,avatar:"undef"})),e.setState({bio:JSON.parse(localStorage.getItem(e.state.key)).bio}),e.accounts=[];for(var a=0,s=Object.keys(localStorage);a<s.length;a++){var n=s[a];e.accounts.push(JSON.parse(localStorage.getItem(n)))}e.target.value="",e.bioSetting=""},e.handlePhoneSetting=function(t){e.phoneSetting=t.target.value,e.target=t.target},e.submitPhone=function(t){t.preventDefault(),localStorage.removeItem(e.state.key),localStorage.setItem(e.state.key,JSON.stringify({name:e.state.name,bio:e.state.bio,phone:e.phoneSetting,avatar:"undef"})),e.setState({phone:JSON.parse(localStorage.getItem(e.state.key)).phone}),e.accounts=[];for(var a=0,s=Object.keys(localStorage);a<s.length;a++){var n=s[a];e.accounts.push(JSON.parse(localStorage.getItem(n)))}e.target.value="",e.phoneSetting=""},e.handleLogoutClick=function(){e.setState({render:"login",registerStatus:"",key:"",email:"",password:"",name:"",bio:"",phone:"",avatar:""}),e.accounts=[],e.target=void 0,e.email="",e.password="",e.nameSetting="",e.bioSetting="",e.phoneSetting="",e.avatarSetting=""},e.refreshAccounts=function(){e.accounts=[];for(var t=0,a=Object.keys(localStorage);t<a.length;t++){var s=a[t];e.accounts.push(JSON.parse(localStorage.getItem(s)))}},e}return Object(r.a)(a,[{key:"render",value:function(){return"account"===this.state.render?Object(m.jsx)("div",{className:"app",children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsxs)("div",{className:"account",children:[Object(m.jsx)("div",{className:"status",children:Object(m.jsx)("h3",{children:this.state.registerStatus})}),Object(m.jsxs)("div",{className:"name",children:[Object(m.jsxs)("h3",{children:["Name: ",this.state.name," "]}),Object(m.jsxs)("form",{className:"setting",onSubmit:this.submitName,children:[Object(m.jsx)("input",{type:"text",placeholder:"Set name",onChange:this.handleNameSetting}),Object(m.jsx)("input",{type:"submit",value:"Set"})]})]}),Object(m.jsxs)("div",{className:"bio",children:[Object(m.jsxs)("h3",{children:["Bio: ",this.state.bio]}),Object(m.jsxs)("form",{className:"setting",onSubmit:this.submitBio,children:[Object(m.jsx)("input",{type:"text",placeholder:"Set bio",onChange:this.handleBioSetting}),Object(m.jsx)("input",{type:"submit",value:"Set"})]})]}),Object(m.jsxs)("div",{className:"phone",children:[Object(m.jsxs)("h3",{children:["Phone: ",this.state.phone]}),Object(m.jsxs)("form",{className:"setting",onSubmit:this.submitPhone,children:[Object(m.jsx)("input",{type:"text",placeholder:"Set phone",onChange:this.handlePhoneSetting}),Object(m.jsx)("input",{type:"submit",value:"Set"})]})]}),Object(m.jsxs)("div",{className:"avatar",children:[Object(m.jsxs)("h3",{children:["Avatar: ",this.state.avatar]}),Object(m.jsx)("form",{className:"setting",children:Object(m.jsx)("input",{type:"file",onChange:this.handleImgUpload})})]}),Object(m.jsx)("div",{className:"logout",children:Object(m.jsx)("input",{type:"button",value:"Log Out",onClick:this.handleLogoutClick})})]})})}):"login"===this.state.render?Object(m.jsx)("div",{className:"app",children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsx)("div",{className:"login",children:Object(m.jsx)("form",{onSubmit:this.handleSubmit,children:Object(m.jsxs)("fieldset",{children:[Object(m.jsx)("input",{type:"text",placeholder:"Email",onChange:this.handleEmailChange,required:!0}),Object(m.jsx)("input",{type:"password",placeholder:"Password",onChange:this.handlePasswordChange,required:!0}),Object(m.jsx)("input",{type:"submit",value:"Submit"})]})})})})}):"admin"===this.state.render?Object(m.jsx)("div",{className:"app",children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsxs)("div",{className:"account",children:[Object(m.jsx)("div",{className:"status",children:Object(m.jsx)("h3",{children:this.state.registerStatus})}),Object(m.jsxs)("div",{className:"name",children:[Object(m.jsxs)("h3",{children:["Name: ",this.state.name," "]}),Object(m.jsxs)("form",{className:"setting",onSubmit:this.submitName,children:[Object(m.jsx)("input",{type:"text",placeholder:"Set name",onChange:this.handleNameSetting}),Object(m.jsx)("input",{type:"submit",value:"Set"})]})]}),Object(m.jsxs)("div",{className:"bio",children:[Object(m.jsxs)("h3",{children:["Bio: ",this.state.bio]}),Object(m.jsxs)("form",{className:"setting",onSubmit:this.submitBio,children:[Object(m.jsx)("input",{type:"text",placeholder:"Set bio",onChange:this.handleBioSetting}),Object(m.jsx)("input",{type:"submit",value:"Set"})]})]}),Object(m.jsxs)("div",{className:"phone",children:[Object(m.jsxs)("h3",{children:["Phone: ",this.state.phone]}),Object(m.jsxs)("form",{className:"setting",onSubmit:this.submitPhone,children:[Object(m.jsx)("input",{type:"text",placeholder:"Set phone",onChange:this.handlePhoneSetting}),Object(m.jsx)("input",{type:"submit",value:"Set"})]})]}),Object(m.jsxs)("div",{className:"avatar",children:[Object(m.jsxs)("h3",{children:["Avatar: ",this.state.avatar]}),Object(m.jsx)("form",{className:"setting",children:Object(m.jsx)("input",{type:"file",onChange:this.handleImgUpload})})]}),Object(m.jsx)("div",{className:"accounts",children:Object(m.jsxs)("ul",{children:[this.refreshAccounts(),this.accounts.map((function(e,t){return Object(m.jsxs)("li",{children:[Object(m.jsxs)("h3",{children:["Name:",e.name]}),Object(m.jsxs)("h3",{children:["Phone:",e.phone]})]},"".concat(e.id,"+").concat(t))}))]})}),Object(m.jsx)("div",{className:"logout",children:Object(m.jsx)("input",{type:"button",value:"Log Out",onClick:this.handleLogoutClick})})]})})}):"new account"===this.state.render?Object(m.jsx)("div",{className:"app",children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsxs)("div",{className:"account",children:[Object(m.jsx)("div",{className:"status",children:Object(m.jsx)("h3",{children:this.state.registerStatus})}),Object(m.jsxs)("div",{className:"name",children:[Object(m.jsxs)("h3",{children:["Name: ",this.state.name," "]}),Object(m.jsxs)("form",{className:"setting",onSubmit:this.submitName,children:[Object(m.jsx)("input",{type:"text",placeholder:"Set name",onChange:this.handleNameSetting}),Object(m.jsx)("input",{type:"submit",value:"Set"})]})]}),Object(m.jsxs)("div",{className:"bio",children:[Object(m.jsxs)("h3",{children:["Bio: ",this.state.bio]}),Object(m.jsxs)("form",{className:"setting",onSubmit:this.submitBio,children:[Object(m.jsx)("input",{type:"text",placeholder:"Set bio",onChange:this.handleBioSetting}),Object(m.jsx)("input",{type:"submit",value:"Set"})]})]}),Object(m.jsxs)("div",{className:"phone",children:[Object(m.jsxs)("h3",{children:["Phone: ",this.state.phone]}),Object(m.jsxs)("form",{className:"setting",onSubmit:this.submitPhone,children:[Object(m.jsx)("input",{type:"text",placeholder:"Set phone",onChange:this.handlePhoneSetting}),Object(m.jsx)("input",{type:"submit",value:"Set"})]})]}),Object(m.jsxs)("div",{className:"avatar",children:[Object(m.jsxs)("h3",{children:["Avatar: ",this.state.avatar]}),Object(m.jsx)("form",{className:"setting",children:Object(m.jsx)("input",{type:"file",onChange:this.handleImgUpload})})]}),Object(m.jsx)("div",{className:"logout",children:Object(m.jsx)("input",{type:"button",value:"Log Out",onClick:this.handleLogoutClick})})]})})}):void 0}}]),a}(n.a.Component);c.a.render(Object(m.jsx)("div",{children:Object(m.jsx)(u,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.4ef9dede.chunk.js.map